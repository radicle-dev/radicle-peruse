{"version":1,"ops":[{"author":{"id":"1227b7a607bba0315f24509805605e4efeaeb032"},"files":null,"message":"In the design document, for defining the `Change` type we have constructors:\n\n```haskell\nAddLineToFile :: FileName -\u003e Location -\u003e FileContents -\u003e Change\nRemoveLineFromFile :: FileName -\u003e Location -\u003e Change\n```\n\nIt's implied that Location is a line number when looking at `buildChangeMap` when adding or removing changes from a commit but what if we wanted to remove multiple lines in a single commit? Appending is trivial since we supply a `FileContents` and append to wherever is specified.","metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDMwMjk5MzEwMQ=="},"target":"2ed6f4aaf6feecb5741bef5641be17e69c5f443ec3653dc89aa79eceb0675b0e","timestamp":1572810872,"type":6},{"author":{"id":"1227b7a607bba0315f24509805605e4efeaeb032"},"files":null,"message":"In the design document, for defining the `Change` type we have constructors:\n\n```haskell\nAddLineToFile :: FileName -\u003e Location -\u003e FileContents -\u003e Change\nRemoveLineFromFile :: FileName -\u003e Location -\u003e Change\n```\n\nIt's implied that `Location` is a line number when looking at `buildChangeMap` when adding or removing changes from a commit but what if we wanted to remove multiple lines in a single commit? Appending is trivial since we supply a `FileContents` and append to wherever is specified.","metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDMwMjk5MzEyMQ=="},"target":"2ed6f4aaf6feecb5741bef5641be17e69c5f443ec3653dc89aa79eceb0675b0e","timestamp":1572810883,"type":6},{"author":{"id":"1227b7a607bba0315f24509805605e4efeaeb032"},"files":null,"message":"In the design document, for defining the `Change` type we have constructors:\n\n```haskell\nAddLineToFile :: FileName -\u003e Location -\u003e FileContents -\u003e Change\nRemoveLineFromFile :: FileName -\u003e Location -\u003e Change\n```\n\nIt's implied that `Location` is a line number when looking at `buildChangeMap` handling cases of adding or removing changes using a given commit;  but what if we wanted to remove multiple lines in a single commit? Adding lines looks correct since it's supplied a `FileContents` and appends to wherever its specified.","metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDMwMjk5MzU4MQ=="},"target":"2ed6f4aaf6feecb5741bef5641be17e69c5f443ec3653dc89aa79eceb0675b0e","timestamp":1572811071,"type":6},{"author":{"id":"1227b7a607bba0315f24509805605e4efeaeb032"},"files":null,"message":"In the design document, for defining the `Change` type we have constructors:\n\n```haskell\nAddLineToFile :: FileName -\u003e Location -\u003e FileContents -\u003e Change\nRemoveLineFromFile :: FileName -\u003e Location -\u003e Change\n```\n\nIt's implied that `Location` is a line number(?) when looking at `buildChangeMap` handling cases of adding or removing changes using a given commit;  but what if we wanted to remove multiple lines in a single commit? Adding lines looks correct since it's supplied a `FileContents` and appends to wherever its specified.","metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDMwMjk5NTAyNw=="},"target":"2ed6f4aaf6feecb5741bef5641be17e69c5f443ec3653dc89aa79eceb0675b0e","timestamp":1572811728,"type":6},{"author":{"id":"1227b7a607bba0315f24509805605e4efeaeb032"},"files":null,"message":"In the design document, for defining the `Change` type we have constructors:\n\n```haskell\nAddLineToFile :: FileName -\u003e Location -\u003e FileContents -\u003e Change\nRemoveLineFromFile :: FileName -\u003e Location -\u003e Change\n```\n\nIt's implied that `Location` is a line number(?) when looking at `buildChangeMap` handling cases of adding or removing changes using a given commit;  but what if we wanted to remove multiple lines in a single commit? Adding lines looks correct to me since it's supplied a `FileContents` and appends to wherever its specified.","metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDMwMjk5NTA4OA=="},"target":"2ed6f4aaf6feecb5741bef5641be17e69c5f443ec3653dc89aa79eceb0675b0e","timestamp":1572811765,"type":6},{"author":{"id":"1227b7a607bba0315f24509805605e4efeaeb032"},"files":null,"message":"We could change this to be `[Location]` where in the case of adding content we can enforce the property of it only having one element in the list","metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU0OTE3MzE0Nw==","github-url":"https://github.com/radicle-dev/radicle-surf/issues/2#issuecomment-549173147"},"timestamp":1572811476,"type":3},{"author":{"id":"1227b7a607bba0315f24509805605e4efeaeb032"},"files":null,"message":"We could change this to be `[Location]` where in the case of adding content we can enforce the property of it only having one element in the list","metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDMwMjk5NTEzMg=="},"target":"9096e2a0dadd42a8ea576a76144d45bc4bc84bd1c54b5e3917b2c6f62188c734","timestamp":1572811795,"type":6},{"author":{"id":"1227b7a607bba0315f24509805605e4efeaeb032"},"files":null,"message":"We could change this to be `[Location]` where in the case of adding content it can enforce the property of it only having one element in the list","metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDMwMjk5NTEzMw=="},"target":"9096e2a0dadd42a8ea576a76144d45bc4bc84bd1c54b5e3917b2c6f62188c734","timestamp":1572811795,"type":6},{"author":{"id":"7904ef6aa79e97fb4f919ee454416247af63fdac"},"files":null,"message":"So you may notice that a `Commit` has a `[Change]` so it allows us to change multiple `Location`s in one commit. However, something I ended up opting for simplicity-sake in the code base is to say that `Addition` just mutates `FileContents`. I didn't want to keep track of the diffs at this stage. It will be something that we will want to keep track of for the viewer though.","metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU0OTI4MDY4OA=="},"timestamp":1572860794,"type":3},{"author":{"id":"1227b7a607bba0315f24509805605e4efeaeb032"},"files":null,"message":"Ah makes sense, thanks for the clarification.","metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU1MzEyNjc4OQ=="},"timestamp":1573594638,"type":3},{"author":{"id":"1227b7a607bba0315f24509805605e4efeaeb032"},"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50Mjc5MzEwMjExMg=="},"status":2,"timestamp":1573594638,"type":4},{"author":{"id":"7904ef6aa79e97fb4f919ee454416247af63fdac"},"files":null,"message":"@gh1dra you may interested in the redesign of the semantics in #6","metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU1MzE0Mzk0Mg=="},"timestamp":1573597280,"type":3}]}